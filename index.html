<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-2-Scribble</title>
    <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Long+Cang&family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        canvas {
            display: inline-block;
        }
        .page {
            padding: 10px;
            position: relative;
            background: linear-gradient(to right, #eee, #ddd);
            padding: 14px 15px;
            top: 0px;
            margin: 0px 8px 0px 0px;
            transform: rotateY(-5deg);
            width: 500px;
            display: inline-block;
            height: 600px;
            box-sizing: border-box;
            will-change: transform, background-color, box-shadow;
            transform-origin: 0% 50%;
            transform-style: preserve-3d;
            transition: all .7s ease;
            transition-property: transform, background-color, box-shadow;
        }
        .paper {
            background-image: 
                linear-gradient(to right, #e36b6b 2px, transparent 2px),
                linear-gradient(#999 0.08em, transparent 0.1em);
            background-position: 32px 0, 0 0;
            background-size: 100% 100%, 100% 1.5em;
            height: 100%;
            top: 0;
            left: 0;
            outline: none;
            font-family: 'Homemade Apple', cursive;
            color: #1a1a1a;
            padding-top: 8px;
            padding-left: 48px;
            padding-right: 20px;
            line-height: 1.5em;
            word-spacing: 0.1em;
        }
        
        .paper * {
            letter-spacing: 0.02em;
            text-shadow: 
                0.3px 0.3px 0.2px rgba(0,0,0,0.15),
                -0.1px -0.1px 0.1px rgba(0,0,0,0.05);
        }
        
        .paper h1, .paper h2, .paper h3 {
            font-size: 1.35em;
            text-decoration: underline;
            text-decoration-thickness: 1.5px;
            text-underline-offset: 3px;
            margin-bottom: 0.9em;
            margin-top: 0.6em;
            letter-spacing: 0.03em;
            font-weight: normal;
        }
        
        .paper p {
            margin-bottom: 1.3em;
            transform: translateY(0.8px) rotate(-0.05deg);
        }
        
        .paper p:nth-child(2n) {
            letter-spacing: 0.025em;
            transform: translateY(-0.4px) rotate(0.08deg);
            word-spacing: 0.12em;
        }
        
        .paper p:nth-child(3n) {
            letter-spacing: 0.015em;
            transform: translateY(0.5px) rotate(-0.03deg);
            word-spacing: 0.08em;
        }
        
        .paper p:nth-child(4n) {
            letter-spacing: 0.028em;
            transform: translateY(-0.2px) rotate(0.04deg);
        }
        
        .paper span:nth-child(odd) {
            display: inline-block;
            transform: rotate(-0.3deg);
        }
        
        .paper span:nth-child(even) {
            display: inline-block;
            transform: rotate(0.2deg);
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            display: none;
            background-image: linear-gradient(to right, #0007, #0001);
        }
        .row {
            display: flex;
        }
        .col {
            flex: 1;
        }
        @media (max-width: 768px){
          .row{display: block}
          .output{
            margin-top: 20px;
        }
      }
    </style>
</head>
<body>
    <label>Handwriting Font</label>
    <select id="handwriting-font">
        <option value="'Homemade Apple', cursive" selected>Homemade Apple</option>
        <option value="'Caveat', cursive">Caveat</option>
        <option value="'Long Cang', cursive">Long Cang</option>
    </select>
    <br>
    <button class="generate-image">Generate Image</button><br>
    * After clicking generate image button, right click image and click save image as or download image
    <br><br>
    
    <div class="row">
        <div class="col">
            <div class="page">
                <div class="paper" contenteditable="true">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut rhoncus dui eget tortor feugiat iaculis. Morbi et dolor in felis viverra efficitur. Integer id laoreet arcu. Mauris turpis nibh, scelerisque sed tristique non, hendrerit in erat. Duis interdum nisl risus, ac ultrices ipsum auctor at. Aliquam faucibus iaculis metus sit amet tincidunt. Vestibulum cursus urna vel nunc imperdiet suscipit. Ut eu augue egestas, porta orci lobortis, pharetra orci. Morbi eu tellus quis nisi tempor accumsan nec eu urna.r adipiscing elit. Sed sit amet ligula id elit tempus molestie. Ut et lectus faucibus, pharetra augue sed, dictum tellus. Aenean id sem consectetur, interdum nisl tempor, ullamcorper tortor. Mauris quis fermentum augue. Phasellus ac nisl hendrerit, fringilla enim aliquam, placerat odio. Ut tortor nisi, pellentesque sed nisi at, hendrerit imperdiet turpis. Proin interdum porttitor metus at hendrerit. Proin ipsum nisl, lacinia vitae purus ullamcorper.
                    <div class="overlay"></div>
                </div>
            </div>
        </div>
        <div class="col output"></div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
        document.querySelector('#handwriting-font').addEventListener('change', e => {
            document.querySelector('.paper').style.fontFamily = e.target.value;
        })
        
        document.querySelector('.generate-image').addEventListener('click', e => {
            document.querySelector('.overlay').style.display = 'block';
            document.querySelector('.paper').style.backgroundSize = '100% 100%, 100% 1.5em';
            
            html2canvas(document.querySelector(".page")).then(canvas => {
                document.querySelector('.output').innerHTML = '';
                const img = document.createElement('img');
                img.src = canvas.toDataURL("image/jpeg");
                document.querySelector('.output').appendChild(img);
                document.querySelector('.paper').style.backgroundSize = '100% 100%, 100% 1.5em';
                document.querySelector('.overlay').style.display = 'none';
            });
        })
    </script>
</body>
</html>
